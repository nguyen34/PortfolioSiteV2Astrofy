---
import BaseLayout from "../layouts/BaseLayout.astro";
import HorizontalCard from "../components/HorizontalCard.astro";
import { getCollection } from "astro:content";

const posts = (await getCollection("blog")).sort(
  (a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf()
);

const last_posts = posts.slice(0, 3);
---

<BaseLayout sideBarActiveItemID="home">
  <div class="pb-12 mt-5">
    <div class="text-xl py-1">Hey there ðŸ‘‹</div>
    <div class="text-5xl font-bold">I'm Johnson Nguyen</div>
    <div class="text-3xl py-3 font-bold">
      Software Engineer by day, Hobbyist by night
    </div>
    <div class="py-2">
      <text class="text-lg">
        Welcome to my Personal Porfolio site, built using <a
          class="hover:underline hover:text-purple-700"
          href="https://github.com/manuelernestog/astrofy"
          target="_blank"><b>Astrofy</b></a
        >, a free and open-source template built with Astro and TailwindCSS. 
      </text>
    </div>

    <div class="py-2">
      <text class="text-lg">
        I consider myself equal parts software engineer, martial artist, gamer,
        and home cook. I love learning new combos and recipes just as much as I
        love engineering new tech solutions and applications.
      </text>
    </div>

    <div class="py-2">
      <text class="text-lg">
        Dedicated problem solver, and innovation seeker, no matter what form
        that may take.
      </text>
    </div>
    <div class="mt-8">
      <a
        class="btn"
        href="https://www.linkedin.com/in/johnson-nguyen-b0053396/"
        target="_blank"
      >
        Let's connect!</a
      >
    </div>
  </div>

  <div>
    <div class="text-3xl w-full font-bold mb-2">My last projects {"</>"}</div>
  </div>

  <HorizontalCard
    title="Kiseki Cafe Corner"
    img="/projects/kiseki_cafe_thumbnail.png"
    desc="Personal website and online platform for my VTuber Persona, Zen No Kiseki, The Chef of Cold Steel. This web application is built with React, Redux, TailwindCSS, MaterialUI as the frontend and Python, Django, and PostgreSQL as the backend. Features TBD include Twitch and Youtube Integrations, a blog, a Karaoke sub-app and Recipe manager"
    url="https://github.com/nguyen34/KisekiCafeCorner"
    badge="WIP"
  />
  <div class="divider my-0"></div>
  <HorizontalCard
    title="Misty From Abend Time"
    img="/projects/misty_thumbnail.png"
    desc="A Python script that integrates both Discord and TwitchAPI to announce twitch streams that go live in a discord server. Modelled off the fictional character, Misty from 'The Legend Of Heroes: Trails Of Cold Steel' series. This handy discord bot helps to announce streams that go live in Discord Communities"
    url="https://github.com/nguyen34/MistyAbendTime"
    badge="NEW"
  />

  <div>
    <div class="text-3xl w-full font-bold mb-5 mt-10">Latest from blog</div>
  </div>

  {
    last_posts.map((post) => (
      <>
        <HorizontalCard
          title={post.data.title}
          img={post.data.heroImage}
          desc={post.data.description}
          url={"/blog/" + post.slug}
          target="_self"
          badge={post.data.badge}
        />
        <div class="divider my-0" />
      </>
    ))
  }
</BaseLayout>
